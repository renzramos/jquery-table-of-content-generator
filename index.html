<!DOCTYPE html>
<html>
<head>
  <title>Table of Content Generator using jQuery</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<style>
	.table-of-content span{
		cursor: pointer;
	}
	.table-of-content header {
	    text-align: center;
	    text-transform: uppercase;
	}
	.table-of-content {
	    border: 1px solid #333;
	    padding: 10px;
	    width: 50%;
	}
	</style>

</head>
<body>

<div id="main-content">


	<div class="container">

		<div class="table-of-content">
			<header>content</header>
			<ol></ol>
		</div>

		<h2>Lorem ipsum dolor sit amet</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam a magna ante. Maecenas at est velit. Quisque id urna a velit placerat pharetra imperdiet sit amet dui. Nam convallis metus ac nisl fermentum, sed placerat felis cursus. Vivamus ut lobortis metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Fusce dapibus dolor vitae augue hendrerit semper. Pellentesque eleifend urna diam. Proin finibus luctus nulla, ac cursus diam dictum et. Aliquam erat volutpat.

		<h3>Lorem ipsum dolor sit amet</h3>
		Fusce auctor lacus dolor, non pretium libero ultrices hendrerit. Curabitur sit amet ullamcorper nisl. Nunc ac tortor vitae felis convallis pretium quis ac nisi. Nam a lacinia enim. Pellentesque pretium, nisl in gravida rhoncus, nibh quam accumsan ipsum, ut aliquet massa nunc et enim. Nulla placerat, urna quis sodales cursus, tortor arcu scelerisque urna, eu tristique lorem enim et libero. Phasellus sodales feugiat luctus. Aliquam erat volutpat. In aliquam, lacus vel aliquet volutpat, magna enim porta neque, et laoreet diam arcu quis tortor. Maecenas aliquam finibus nunc, a aliquet justo efficitur at. Mauris accumsan ex vitae velit molestie lobortis. In sed egestas dolor, maximus feugiat enim.

		<h3>Lorem ipsum dolor sit amet</h3>
		Integer non urna quam. Mauris gravida congue nibh, dignissim pretium sem mattis non. Pellentesque nec eleifend ligula. Integer a libero ut mi maximus congue. Vestibulum auctor ac odio ut gravida. Ut vestibulum cursus libero placerat congue. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut porta, ligula vitae pulvinar aliquam, tellus felis lacinia odio, vitae tristique lorem eros dignissim lectus.

		<h3>Lorem ipsum dolor sit amet</h3>
		In placerat augue non viverra tincidunt. Sed in ligula congue, ultrices arcu eu, accumsan mauris. Sed cursus, mi non fermentum pellentesque, enim leo faucibus ligula, at euismod nibh sem eu lorem. Morbi accumsan libero elit, sed laoreet tellus blandit et. Aenean sagittis turpis ut felis molestie placerat. Nam feugiat tincidunt ex sit amet egestas. Suspendisse aliquet facilisis vestibulum. Quisque laoreet ex erat. In imperdiet iaculis turpis. Integer lacinia lectus sit amet dolor finibus luctus. Aliquam luctus, elit eleifend molestie sodales, mauris ipsum ultricies erat, at elementum neque arcu a arcu.

		<h3>Lorem ipsum dolor sit amet</h3>
		Nulla rutrum viverra convallis. Sed volutpat tincidunt ligula vel condimentum. Sed vulputate mi sed molestie placerat. Vivamus vel vehicula libero. Proin hendrerit dolor nec justo condimentum fringilla. Sed nec massa sit amet elit cursus pulvinar. Aenean tincidunt dolor eget eleifend fermentum. Sed turpis magna, malesuada in fermentum non, ultricies at nisl. Nunc non dignissim quam. Cras pulvinar tristique enim, a rutrum leo sodales interdum. Fusce quis ligula enim. Etiam sollicitudin massa porta arcu ultrices, sit amet scelerisque ligula laoreet. Maecenas nibh ligula, hendrerit eget egestas a, venenatis ut libero. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Vestibulum vitae sagittis nisl. Suspendisse justo sem, posuere quis luctus vitae, maximus a orci.

		<h2>Lorem ipsum dolor sit amet</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam a magna ante. Maecenas at est velit. Quisque id urna a velit placerat pharetra imperdiet sit amet dui. Nam convallis metus ac nisl fermentum, sed placerat felis cursus. Vivamus ut lobortis metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Fusce dapibus dolor vitae augue hendrerit semper. Pellentesque eleifend urna diam. Proin finibus luctus nulla, ac cursus diam dictum et. Aliquam erat volutpat.

		<h2>Lorem ipsum dolor sit amet</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam a magna ante. Maecenas at est velit. Quisque id urna a velit placerat pharetra imperdiet sit amet dui. Nam convallis metus ac nisl fermentum, sed placerat felis cursus. Vivamus ut lobortis metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Fusce dapibus dolor vitae augue hendrerit semper. Pellentesque eleifend urna diam. Proin finibus luctus nulla, ac cursus diam dictum et. Aliquam erat volutpat.

		<h3>Lorem ipsum dolor sit amet</h3>
		Fusce auctor lacus dolor, non pretium libero ultrices hendrerit. Curabitur sit amet ullamcorper nisl. Nunc ac tortor vitae felis convallis pretium quis ac nisi. Nam a lacinia enim. Pellentesque pretium, nisl in gravida rhoncus, nibh quam accumsan ipsum, ut aliquet massa nunc et enim. Nulla placerat, urna quis sodales cursus, tortor arcu scelerisque urna, eu tristique lorem enim et libero. Phasellus sodales feugiat luctus. Aliquam erat volutpat. In aliquam, lacus vel aliquet volutpat, magna enim porta neque, et laoreet diam arcu quis tortor. Maecenas aliquam finibus nunc, a aliquet justo efficitur at. Mauris accumsan ex vitae velit molestie lobortis. In sed egestas dolor, maximus feugiat enim.

		<h3>Lorem ipsum dolor sit amet</h3>
		Integer non urna quam. Mauris gravida congue nibh, dignissim pretium sem mattis non. Pellentesque nec eleifend ligula. Integer a libero ut mi maximus congue. Vestibulum auctor ac odio ut gravida. Ut vestibulum cursus libero placerat congue. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut porta, ligula vitae pulvinar aliquam, tellus felis lacinia odio, vitae tristique lorem eros dignissim lectus.

		<h3>Lorem ipsum dolor sit amet</h3>
		In placerat augue non viverra tincidunt. Sed in ligula congue, ultrices arcu eu, accumsan mauris. Sed cursus, mi non fermentum pellentesque, enim leo faucibus ligula, at euismod nibh sem eu lorem. Morbi accumsan libero elit, sed laoreet tellus blandit et. Aenean sagittis turpis ut felis molestie placerat. Nam feugiat tincidunt ex sit amet egestas. Suspendisse aliquet facilisis vestibulum. Quisque laoreet ex erat. In imperdiet iaculis turpis. Integer lacinia lectus sit amet dolor finibus luctus. Aliquam luctus, elit eleifend molestie sodales, mauris ipsum ultricies erat, at elementum neque arcu a arcu.

		<h2>Lorem ipsum dolor sit amet</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam a magna ante. Maecenas at est velit. Quisque id urna a velit placerat pharetra imperdiet sit amet dui. Nam convallis metus ac nisl fermentum, sed placerat felis cursus. Vivamus ut lobortis metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Fusce dapibus dolor vitae augue hendrerit semper. Pellentesque eleifend urna diam. Proin finibus luctus nulla, ac cursus diam dictum et. Aliquam erat volutpat.

		<h3>Lorem ipsum dolor sit amet</h3>
		Fusce auctor lacus dolor, non pretium libero ultrices hendrerit. Curabitur sit amet ullamcorper nisl. Nunc ac tortor vitae felis convallis pretium quis ac nisi. Nam a lacinia enim. Pellentesque pretium, nisl in gravida rhoncus, nibh quam accumsan ipsum, ut aliquet massa nunc et enim. Nulla placerat, urna quis sodales cursus, tortor arcu scelerisque urna, eu tristique lorem enim et libero. Phasellus sodales feugiat luctus. Aliquam erat volutpat. In aliquam, lacus vel aliquet volutpat, magna enim porta neque, et laoreet diam arcu quis tortor. Maecenas aliquam finibus nunc, a aliquet justo efficitur at. Mauris accumsan ex vitae velit molestie lobortis. In sed egestas dolor, maximus feugiat enim.

		<h3>Lorem ipsum dolor sit amet</h3>
		Integer non urna quam. Mauris gravida congue nibh, dignissim pretium sem mattis non. Pellentesque nec eleifend ligula. Integer a libero ut mi maximus congue. Vestibulum auctor ac odio ut gravida. Ut vestibulum cursus libero placerat congue. Interdum et malesuada fames ac ante ipsum primis in faucibus. Ut porta, ligula vitae pulvinar aliquam, tellus felis lacinia odio, vitae tristique lorem eros dignissim lectus.


		</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script>

	jQuery(document).ready(function($){


		var tableOfCOntentOL = $('.table-of-content ol');
		var headingParentCount = 0;
		var headingChildCount = 0;
		var childHeading = '';

	    $("h2, h3").each(function(index, element){
	    	console.log($(this).prop('tagName'));

	    	var tagName = $(this).prop('tagName');
	    	if (tagName == 'H2'){

	    		headingParentCount++;
	    		headingChildCount = 0;

				parentHeadingID = 'parent-' + tagName + '-' + headingParentCount;
				childHeadingID = 'child-' + tagName + '-' + headingParentCount;

	    		tableOfCOntentOL.append('<li><span data-id="#' + parentHeadingID + '">' + $(this).text() + '</span><ul id="' + childHeadingID + '" data-id="' + childHeadingID + '"></ul></li>');

	    		$(this).attr('id', parentHeadingID);
	    	}else{
	    		headingChildCount++;

	    		var subID = 'child-' + tagName + '-' + headingParentCount + '-' + headingChildCount;
	    		$('#' + childHeadingID).append('<li data-id="' + subID + '"><span data-id="#' + subID + '">' + $(this).text() + '</span></li>');

	    		$(this).attr('id', subID);
	    	}
	    });

	    $('.table-of-content span').click(function(){
	    	var id = $(this).attr('data-id');
	    	$('html, body').animate({scrollTop:$(id).position().top}, 'slow');
	    })

	});
	</script>


</body>
</html>
